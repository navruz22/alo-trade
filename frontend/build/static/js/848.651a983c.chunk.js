"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[848],{5520:function(e,t,n){n(2791);t.Z=n.p+"static/media/no-image.5c7731b2eacc156460f251b9ebd63d5d.svg"},7288:function(e,t,n){n(2791);var r=n(184);t.Z=function(e){var t=e.title,n=e.onClick,o=e.className;return(0,r.jsx)("button",{className:"block uppercase shadow md:ml-0  bg-alotrade focus:shadow-outline focus:outline-none text-white md:text-xs text-[10px] px-3 py-2 md:px-10  rounded-lg ".concat(o),onClick:n,children:t})}},1399:function(e,t,n){var r=n(9439),o=n(2791),a=n(7288),l=(n(6549),n(5077),n(71)),i=n(9434),s=n(4373),c=n(184);t.Z=function(e){var t=e.onClick,n=e.buttonTitle,u=(e.countTitle,e.count,e.handleFilter,e.filterData,e.filter,e.translations,e.setFilterVisible),d=e.setFilterBody,f=(e.mainTitle,e.isOrganization),x=(0,i.I0)(),m=(0,o.useState)(""),p=(0,r.Z)(m,2),h=p[0],b=p[1];return(0,c.jsx)("div",{className:"bg-alotrade md:bg-white w-full pt-6",children:(0,c.jsxs)("div",{className:"flex flex-col items-center md:flex-row w-full md:justify-between md:items-center",children:[(0,c.jsxs)("div",{className:"flex w-full px-4 md:gap-4 md:justify-center mb-[20px] md:hidden",children:[(0,c.jsx)("button",{className:"block w-full  md:w-auto uppercase shadow bg-white md:ml-0 rounded-tr-none rounded-br-none\n             rounded-l-xl border-r-0 border-1 border-[#03c1f6cc]\n             font-bold focus:shadow-outline focus:outline-none text-alotrade md:text-xs text-[10px]\n              py-3 md:px-10 px-2 rounded",onClick:function(){d("category"),u(!0)},children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),(0,c.jsx)("button",{className:"block w-full bg-white md:w-auto uppercase shadow md:ml-0 rounded-tl-none rounded-bl-none\n             ".concat(n&&!f?"rounded-r-none":"rounded-r-xl"," border-l-0 border-1 border-[#03c1f6cc]\n             font-bold focus:shadow-outline focus:outline-none text-alotrade md:text-xs text-[10px]\n              py-3 md:px-10 px-2 rounded"),onClick:function(){d("country"),u(!0)},children:"\u0421\u0442\u0440\u0430\u043d\u044b"}),n&&!f&&(0,c.jsx)("button",{className:"block w-full bg-white md:w-auto uppercase shadow md:ml-0 rounded-tl-none rounded-bl-none\n             rounded-r-xl border-l-0 border-1 border-[#03c1f6cc]\n             font-bold focus:shadow-outline focus:outline-none text-alotrade md:text-xs text-[10px]\n              py-3 md:px-10 px-2 rounded",onClick:t,children:n})]}),(0,c.jsxs)("div",{className:"flex w-full mb-4 md:mb-0 h-[40px]",children:[(0,c.jsx)("input",{onKeyUp:function(e){"Enter"===e.key&&x((0,s.DF)(h))},onChange:function(e){return b(e.target.value)},type:"text",className:"w-full border rounded-l-xl px-3 text-sm py-1 outline-0",placeholder:"\u041f\u043e\u0438\u0441\u043a"}),(0,c.jsx)("button",{onClick:function(){x((0,s.DF)(h))},className:"w-1/5 rounded-r-xl bg-alotrade text-white border border-l-0 flex justify-center items-center",children:(0,c.jsx)(l.uFR,{})})]}),n&&(0,c.jsx)("div",{className:"hidden md:block",children:(0,c.jsx)(a.Z,{onClick:t,title:n})})]})})}},5077:function(e,t,n){n(2791);var r=n(71),o=n(6048),a=n.n(o),l=n(184);t.Z=function(e){for(var t=e.countPage,n=e.totalDatas,o=e.setCurrentPage,i=e.currentPage,s=[],c=1;c<=Math.ceil(n/t);c++)s.push(c);return(0,l.jsx)("nav",{className:"float-right",children:(0,l.jsx)(a(),{previousLabel:(0,l.jsx)(r.dUf,{width:"7px",height:"12px"}),forcePage:i,nextLabel:(0,l.jsx)(r.mzm,{width:"7px",height:"12px"}),breakLabel:"...",pageCount:s.length,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(e){o(e.selected)},containerClassName:"flex justify-between items-center",pageClassName:"mr-[15px] text-primary-800",pageLinkClassName:"w-[35px] h-[35px] border border-black rounded-lg text-sm flex justify-center items-center hover:bg-primary-700 hover:border-primary-700 hover:text-white-900 transition ease-in-out duration-100",previousClassName:"mr-[15px]",previousLinkClassName:"w-[35px] h-[35px] border border-black rounded-lg text-sm text-primary-800 flex justify-center items-center hover:bg-primary-700 hover:border-primary-700 hover:text-white-900 transition ease-in-out duration-100",nextClassName:"mr-[15px]",nextLinkClassName:"w-[35px] h-[35px] border border-black rounded-lg text-sm text-primary-800 flex justify-center items-center hover:bg-primary-700 hover:border-primary-700 hover:text-white-900 transition ease-in-out duration-100",breakClassName:"mr-[15px]",breakLinkClassName:"w-[35px] h-[35px] border border-black rounded-lg text-sm text-primary-800 flex justify-center items-center hover:bg-primary-700 hover:border-primary-700 hover:text-white-900 transition ease-in-out duration-100",activeClassName:"mr-[15px]",activeLinkClassName:"border border-black bg-alotrade text-white-900",disabledLinkClassName:"bg-transparent border-black-100 text-black-100 hover:bg-transparent hover:border-black-100 hover:text-black-100"})})}},866:function(e,t,n){n.d(t,{Z:function(){return p}});n(2791);var r=n(184),o=function(e){e.user,e.createdAt,e.position;var t=e.organization,n=(e.logged,null===t||void 0===t?void 0:t.name);return(0,r.jsx)("div",{className:"border-t w-full px-3 py-1 font-semibold text-[#01c2cc] mt-2",children:(0,r.jsx)("div",{className:"flex justify-end w-full text-[10px] md:text-[14px]",children:(0,r.jsx)("h3",{className:"font-amazonbold",children:n})})})},a=n(2111),l=n.n(a),i=(n(4397),function(e){var t=e.name,n=e.minPrice,o=e.maxPrice,a=e.currency,i=(e.region,n&&n.toLocaleString("ru-RU"),o?o.toLocaleString("ru-RU"):0);return(0,r.jsxs)("div",{className:"px-3 py-2 rounded-b-xl",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{className:"font-amazonbold text-[12px] md:text-base font-bold",children:(0,r.jsx)(l(),{line:2,element:"h3",truncateText:"\u2026",text:t})})}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("h3",{className:"font-amazonbold text-base text-amber-500 flex justify-between",children:(0,r.jsxs)("span",{className:"text-[14px] md:text-[16px] text-orange-500 font-bold",children:[i||""," ",a]})})})]})}),s=n(71),c=n(9126),u=function(e){var t=e.editHandler,n=e.productId,o=e.deleteHandler;return(0,r.jsxs)("div",{className:"w-full border-t product-t flex m-0",children:[(0,r.jsx)("button",{onClick:function(){return t(n)},className:"w-full flex justify-center items-center rounded-bl-xl border-r product-r py-1 bg-orange-500",children:(0,r.jsx)(c.HlX,{size:18,className:"text-white"})}),(0,r.jsx)("button",{className:" w-full flex justify-center items-center py-1 rounded-br-xl bg-[#ff0000]",onClick:function(){return o(n)},children:(0,r.jsx)(s.BFV,{size:22,className:"text-white"})})]})},d=n(9434),f=n(5520),x=n(7689),m=n(1087),p=function(e){var t,n,a=e.product,l=e.editHandler,c=e.deleteHandler,p=e.logged,h=(0,d.v9)((function(e){return e.login})).userData,b=(0,x.TH)(),g=a._id,v=(a.tradetypes,a.region),y=(a.district,a.categories,a.subcategories,a.name),w=a.description,j=(a.status,a.currency),N=a.minPrice,C=a.maxPrice,T=a.images,k=a.position,P=a.user,O=a.createdAt,S=a.organization,E=(null===h||void 0===h||null===(t=h.user)||void 0===t||t._id,null===P||void 0===P||P._id,null===S||void 0===S||S.phone,!(null===h||void 0===h||null===(n=h.organization)||void 0===n||!n._id)),z="/profile/products"===b.pathname;return E&&p&&z?(0,r.jsx)("div",{className:"w-full shadow-2xl mt-5 rounded-xl bg-white-900 bg-white border-[1px] border-[#01c2cc]",children:(0,r.jsxs)("div",{className:"text-sm w-full h-full flex flex-col justify-between rounded-xl",children:[(0,r.jsxs)(m.rU,{to:"/products/".concat(g),className:"text-sm w-full h-full flex flex-col justify-between rounded-xl",children:[(0,r.jsxs)("p",{className:"pl-2 border-b my-1 flex items-center text-neutral-500 text-sm",children:[(0,r.jsx)(s.kXE,{className:""}),(0,r.jsx)("span",{className:"text-[10px] md:text-[14px] ml-2",children:v?null===v||void 0===v?void 0:v.name:"Respublika bo'ylab"})]}),(0,r.jsx)("div",{className:"flex overflow-hidden items-center justify-center bg-white rounded-t-xl",children:(0,r.jsx)("img",{src:T[0]?T[0]:f.Z,className:"rounded object-contain h-[150px] md:h-[200px]",alt:"Product"})}),(0,r.jsx)(o,{logged:p,user:P,position:k,createdAt:O,organization:S}),(0,r.jsx)(i,{region:v,name:y,maxPrice:C,minPrice:N,description:w,currency:j})]}),(0,r.jsx)(u,{editHandler:l,productId:g,deleteHandler:c,position:k})]})}):(0,r.jsx)(m.rU,{to:"/products/".concat(g),className:"w-full shadow-2xl rounded-xl block h-full bg-white border-[1px] border-[#01c2cc]",children:(0,r.jsxs)("div",{className:"text-sm w-full h-full flex flex-col rounded-xl",children:[(0,r.jsxs)("p",{className:"pl-2 border-b my-1 flex items-center text-neutral-500 text-sm",children:[(0,r.jsx)(s.kXE,{className:""}),(0,r.jsx)("span",{className:"text-[10px] md:text-[14px] ml-2",children:v?null===v||void 0===v?void 0:v.name:"Respublika bo'ylab"})]}),(0,r.jsx)("div",{className:"flex  items-center justify-center bg-white rounded-t-xl",children:(0,r.jsx)("img",{src:T[0]?T[0]:f.Z,className:"rounded object-contain h-[150px] md:h-[200px]",alt:"Product"})}),(0,r.jsx)(i,{region:v,name:y,maxPrice:C,minPrice:N,description:w,currency:j})]})})}},4848:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(3433),o=n(9439),a=n(2791),l=n(1399),i=n(5077),s=n(184),c=n(9434),u=n(3356),d=n(4373),f=n(8285),x=n(6006),m=n(763),p=n(866),h=n(9169),b=n(3168),g=n(5393),v=n(7689),y=n(4397),w=function(){var e=(0,b.$)(["common"]).t,t=((0,h.F)(e),(0,c.I0)()),n=(0,v.TH)(),w=(0,c.v9)((function(e){return e.login})),j=w.logged,N=w.userData,C=N.user,T=N.organization,k=(0,y.Z)().width,P=(0,c.v9)((function(e){return e.products})).products,O=(0,c.v9)((function(e){return e.filter})),S=O.product,E=O.categories,z=O.subcategories,Z=O.subcategories2,F=O.tradetypes,_=O.regions,I=O.districts,R=O.name,D=(0,a.useState)(null),L=(0,o.Z)(D,2),H=L[0],U=L[1],M=(0,a.useState)(0),A=(0,o.Z)(M,2),B=A[0],W=A[1],V=(0,a.useState)(0),X=(0,o.Z)(V,2),q=X[0],Y=X[1],J=(0,a.useState)(k<720?20:15),K=(0,o.Z)(J,2),$=K[0],G=K[1],Q=(0,a.useState)(!1),ee=(0,o.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,a.useState)(null),oe=(0,o.Z)(re,2),ae=oe[0],le=oe[1],ie=(0,a.useState)(!1),se=(0,o.Z)(ie,2),ce=se[0],ue=se[1],de=(0,a.useState)(null),fe=(0,o.Z)(de,2),xe=fe[0],me=fe[1],pe=function(e){U(e),le("approve"),ne(!0)},he=function(e){U(e),le("createProduct"),ne(!0)};return(0,a.useEffect)((function(){var e,o,a=null===n||void 0===n||null===(e=n.state)||void 0===e||null===(o=e.category)||void 0===o?void 0:o.value,l={page:q,count:$,product:S,categories:E,subcategories:z,subcategories2:Z,tradetypes:F,regions:_,districts:I,user:null===C||void 0===C?void 0:C._id,name:R};a&&(l.categories=[].concat((0,r.Z)(E),[a])),t((0,f.Xp)(l)),t((0,f.Y2)(l)).then((function(e){var t=e.payload.totalCount;e.error||W(t)}))}),[t,S,q,$,E,z,Z,F,_,I,C,R,k]),(0,a.useEffect)((function(){G(k<720?20:15)}),[k]),(0,a.useEffect)((function(){t((0,f.sR)())}),[t]),(0,s.jsxs)("div",{className:"w-full bg-white pb-[100px]",children:[(0,s.jsx)("div",{className:"md:container",children:(0,s.jsxs)("div",{className:"w-full block md:flex",children:[(0,s.jsx)(g.Z,{filterBody:xe,filterVisible:ce,setFilterVisible:ue}),(0,s.jsxs)("div",{className:"w-full md:px-4 flex flex-col gap-[20px]",children:[(0,s.jsx)(l.Z,{isOrganization:!!T,totalDatas:B,currentPage:q,setCurrentPage:Y,filter:u.h,count:B,onClick:function(){return le("createProduct"),ne(!0),void U(null)},handleFilter:function(e){var n=e.target.value;t((0,d.BY)(n))},filterData:S,setFilterBody:me,setFilterVisible:ue,mainTitle:"\u0422\u043e\u0432\u0430\u0440\u044b",countTitle:"Jami:"}),(0,s.jsx)("div",{className:"grid grid-cols-2 px-2 gap-2 md:grid-cols-3 md:gap-3",children:(0,m.map)(P,(function(e){return(0,s.jsx)(p.Z,{logged:j,product:e,editHandler:he,deleteHandler:pe},(0,m.uniqueId)())}))}),k>720?B>0&&(0,s.jsx)("div",{className:"flex justify-center py-2",children:(0,s.jsx)(i.Z,{totalDatas:B,countPage:k<720?20:15,setCurrentPage:Y,currentPage:q})}):(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsx)("button",{onClick:function(){return G((function(e){return e+20}))},className:"bg-alotrade shadow-xl text-white rounded py-2 px-4 text-[14px]",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})})]})]})}),(0,s.jsx)(x.Z,{isOpen:te,body:ae,closeModal:function(){ne(!1)},toggleModal:function(){ne(!te)},productId:H,modalBody:ae,headerText:"Mahsulotni o'chirish",title:"Siz rostdan ham mahsulotni o'chirmoqchimisiz?",approveFunction:function(){H&&t((0,f.Ir)({id:H})).then((function(e){e.error||(ne(!1),U(null))}))}})]})}},2111:function(e,t,n){var r,o,a;o=[t,n(2791),n(2007)],r=function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n),a=l(r);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if(null==e)return{};var n,r,o=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function x(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?p(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=1e-4,y=function(e,t){return Math.abs(e-t)<v},w=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return g(p(n=x(this,(e=m(t)).call.apply(e,[this].concat(o)))),"onResize",(function(){n.rafId&&window.cancelAnimationFrame(n.rafId),n.rafId=window.requestAnimationFrame(n.update.bind(p(n)))})),g(p(n),"onToggled",(function(e){"function"===typeof n.props.onToggled&&setTimeout((function(){return n.props.onToggled(e)}),0)})),g(p(n),"onTruncated",(function(){"function"===typeof n.props.onTruncated&&setTimeout((function(){return n.props.onTruncated()}),0)})),g(p(n),"onCalculated",(function(){"function"===typeof n.props.onCalculated&&setTimeout((function(){return n.props.onCalculated()}),0)})),g(p(n),"update",(function(){var e=window.getComputedStyle(n.scope),t=[e["font-weight"],e["font-style"],e["font-size"],e["font-family"],e["letter-spacing"]].join(" ");n.canvas.font=t,n.forceUpdate()})),n}return h(t,e),f(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),r=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=r,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return this.canvas.measureText(e).width}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.element,e.line),r=(e.onCalculated,e.onTruncated,e.onToggled,e.text),a=e.textElement,l=e.textTruncateChild,i=e.truncateText,c=e.maxCalculateTimes,u=s(e,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),d=this.scope.getBoundingClientRect().width;if(0===d)return null;var f=this.measureWidth(r);if(d>f||y(d,f))return this.onToggled(!1),(0,n.createElement)(a,u,r);var x="";if(l&&"string"===typeof l.type){var m=l.type;(m.indexOf("span")>=0||m.indexOf("a")>=0)&&(x=l.props.children)}for(var p=1,h=r.length,b="",g=0,v=0,w=t,j=0,N=!1,C=!1,T=0,k=-1,P="",O=0;w-- >0;){for(P=w?"":i+(x?" "+x:"");p<=h;){if(b=r.substr(v,p),!((j=this.measureWidth(b+P))<d)){do{if(O++>=c)break;b=r.substr(v,p),w||p--," "===b[b.length-1]&&(b=r.substr(v,p-1)),N&&(k=b.lastIndexOf(" "))>-1?(p=k,w&&p++,b=r.substr(v,p)):(p--,b=r.substr(v,p)),j=this.measureWidth(b+P)}while((j>d||y(j,d))&&b.length>0);v+=p;break}-1===(g=r.indexOf(" ",p+1))?(p+=1,N=!1):(N=!0,p=g)}if(p>=h){v=h;break}N&&!C&&-1===r.substr(T,p).indexOf(" ")&&(C=-1===r.substr(T,p).indexOf(" "),w--),T=p+1}return v===h?(this.onToggled(!1),(0,n.createElement)(a,u,r)):(this.onTruncated(),this.onToggled(!0),o.default.createElement("span",u,(0,n.createElement)(a,u,r.substr(0,v)+i+" "),l))}},{key:"render",value:function(){var e=this,t=this.props,r=t.element,o=t.text,a=t.style,l=void 0===a?{}:a,i=t.containerClassName,c=t.line,u=(t.onCalculated,t.onTruncated,t.onToggled,t.textElement),d=(t.textTruncateChild,t.truncateText,t.maxCalculateTimes,s(t,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),f=l.fontWeight,x=l.fontStyle,m=l.fontSize,p=l.fontFamily,h=this.scope&&c?this.getRenderText():(0,n.createElement)(u,d,o),b={ref:function(t){e.scope=t},className:i,style:{overflow:"hidden",fontWeight:f,fontStyle:x,fontSize:m,fontFamily:p}};return this.scope&&this.onCalculated(),(0,n.createElement)(r,b,h)}}]),t}(n.Component);g(w,"propTypes",{containerClassName:a.default.string,element:a.default.string,line:a.default.oneOfType([a.default.number,a.default.bool]),onCalculated:a.default.func,onTruncated:a.default.func,onToggled:a.default.func,text:a.default.string,textElement:a.default.elementType,textTruncateChild:a.default.node,truncateText:a.default.string,maxCalculateTimes:a.default.number}),g(w,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"\u2026",maxCalculateTimes:10}),t.default=w,e.exports=t.default},void 0===(a="function"===typeof r?r.apply(t,o):r)||(e.exports=a)}}]);
//# sourceMappingURL=848.651a983c.chunk.js.map